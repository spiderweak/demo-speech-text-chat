<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Capture for Whisper</title>

    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- JQuery Library -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        window.jQuery || document.write('<script src="/static/jquery-3.7.1.min.js"><\/script>');
    </script>
</head>


<body class="bg-gray-100 h-screen flex flex-col items-center justify-center">

    <div class="text-center">
        <h1 class="text-4xl font-bold mb-4">Record Audio and Send to Whisper</h1>

        <!-- Question Form Column -->
        <button id="recordButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full mr-2">
            Start Recording
        </button>

        <!-- File Upload Form Column -->
        <button id="stopButton" disabled class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full">
            Stop and Send
        </button>

    <!-- Loading indicator -->
    <div id="loading-indicator" class="hidden my-5 flex justify-center items-center">
        <span class="loader"></span>
        <style>
            .loader {
                width: 48px;
                height: 48px;
                border: 5px solid #000;
                border-bottom-color: #FF3D00;
                border-radius: 50%;
                display: inline-block;
                box-sizing: border-box;
                animation: rotation 1s linear infinite;
            }

            @keyframes rotation {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </div>

    <div id="microphone-indicator" class="hidden my-5 text-4xl">üéôÔ∏è</div>

        <!-- Transcription result will be displayed here -->
        <div id="transcriptionResult" class="mt-4 text-lg text-green-600"></div>
        <button id="exportBtn" disabled class="bg-green-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full">Export Text</button>
    </div>

    <script src="{{ url_for('static', filename='js/audio_capture.js') }}"></script>
    <script src="{{ url_for('static', filename='js/export.js') }}"></script>

</body>

</html>
